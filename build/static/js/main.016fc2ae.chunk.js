(window.webpackJsonpcoauthor=window.webpackJsonpcoauthor||[]).push([[0],{371:function(e,t){e.exports="data:image/png;base64,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"},377:function(e,t,a){e.exports=a(704)},54:function(e,t,a){},704:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(11),o=a.n(l),c=(a(382),a(372)),i=(a(270),a(195)),s=a(51),u=a(92),m=(a(109),a(39)),h=(a(110),a(28)),p=a(15),d=a(16),b=a(19),E=a(17),y=a(29),f=a(18),g=(a(201),a(78)),v=(a(126),a(40)),O=(a(273),a(193)),j=(a(274),a(192)),k=(a(152),a(90)),w=(a(361),a(124)),C=(a(153),a(70)),S=(a(61),a(6)),I=(a(151),a(56)),A=(a(202),a(53)),P=(a(54),a(36)),R=a(50),M=(a(243),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={likes:[],amountOfLikes:"",userLiked:!1},a.like=a.like.bind(Object(y.a)(a)),a.userLiked=a.userLiked.bind(Object(y.a)(a)),a.getLikes=a.getLikes.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getLikes()}},{key:"componentDidUpdate",value:function(e,t){e.auth.uid!==this.props.auth.uid&&this.getLikes()}},{key:"getTime",value:function(){var e=this.props.time;if(e){var t=this.differenceInHours(e.toDate(),new Date),a="The time left until this prompt possibly becomes a story";return t>12?r.a.createElement(I.a,{title:a},r.a.createElement(A.a,{color:"#006d75"},t+"h Left")):t>4?r.a.createElement(I.a,{title:a},r.a.createElement(A.a,{color:"#faad14"},t+"h Left")):r.a.createElement(I.a,{title:a},r.a.createElement(A.a,{color:"#cf1322"},t+"h Left"))}return r.a.createElement(A.a,null,"No Time")}},{key:"differenceInHours",value:function(e,t){return Math.round(48-Math.abs(e-t)/36e5)}},{key:"getLikes",value:function(){var e=this;Object(R.getFirestore)().collection("posts").doc(this.props.id).collection("likes").get().then((function(t){var a=[];t.forEach((function(e){a.push({user:e.data()})})),e.setState({likes:a,amountOfLikes:a.length}),e.userLiked()})).catch((function(e){console.log("Error: "+e)}))}},{key:"userLiked",value:function(){for(var e=this.state.likes,t=0;t<e.length;t++)e[t].user.uid==this.props.auth.uid?this.setState({userLiked:!0}):this.setState({userLiked:!1})}},{key:"renderHeart",value:function(){return this.state.userLiked?r.a.createElement(S.a,{type:"heart",theme:"filled",size:"large",key:"heart",style:{color:"#cf1322"}}):r.a.createElement(S.a,{type:"heart",key:"heart",style:{color:"white"}})}},{key:"like",value:function(){!1===this.props.auth.isEmpty?0==this.state.userLiked?(this.setState({userLiked:!0,amountOfLikes:this.state.amountOfLikes+1}),Object(R.getFirestore)().collection("posts").doc(this.props.id).collection("likes").doc(this.props.auth.displayName).set({uid:this.props.auth.uid,postId:this.props.id}),Object(R.getFirestore)().collection("users").doc(this.props.auth.displayName).collection("liked").doc().set({type:"prompt",postId:this.props.id,author:this.props.author,content:this.props.content,genre:this.props.genre,title:this.props.title,time:this.props.time})):(this.setState({userLiked:!1,amountOfLikes:this.state.amountOfLikes-1}),Object(R.getFirestore)().collection("posts").doc(this.props.id).collection("likes").doc(this.props.auth.displayName).delete(),Object(R.getFirestore)().collection("users").doc(this.props.auth.displayName).collection("liked").where("postId","==",this.props.id).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))):C.a.warning("Please login or sign up to like prompts")}},{key:"render",value:function(){var e=w.a.Meta;return r.a.createElement(w.a,{actions:[r.a.createElement("button",{id:"cardActionBtn",onClick:this.like},this.renderHeart(),r.a.createElement("span",{id:"likes"},this.state.amountOfLikes)),r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"book",key:"book"})),r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"user",key:"user"})),r.a.createElement(I.a,{title:"Report this prompt"},r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"warning",key:"warning"})))]},r.a.createElement(e,{avatar:r.a.createElement("span",null,r.a.createElement(j.a,{content:this.props.author,title:""},r.a.createElement(k.a,{icon:"user"}))),title:r.a.createElement("span",{id:"title-container"},r.a.createElement("span",{id:"card-title"},this.props.title),r.a.createElement(A.a,null,"Prompt"),this.getTime()),description:r.a.createElement("div",null,r.a.createElement("small",null,this.props.genre),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{id:"card-content"},this.props.content),r.a.createElement("br",null))}))}}]),t}(n.Component)),N=Object(P.b)((function(e,t){return{posts:e.firestore.ordered.posts,auth:e.firebase.auth}}))(M),D=a(64),U=a(81),T=(a(60),a(21)),L=(a(631),function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{type:"flex",align:"middle",id:"feed-header-container"},r.a.createElement(h.a,{md:10},r.a.createElement("div",{id:"feed-header-text"},r.a.createElement("h1",null,"PROMPTS"),r.a.createElement("h4",null,"Story ideas created and voted on by users.")),r.a.createElement("div",null,r.a.createElement(T.a,{id:"feed-header-button",type:"primary"},"Post a Prompt"),r.a.createElement(T.a,{id:"feed-header-button",type:"primary"},"?"))),r.a.createElement(h.a,{md:14,style:{height:"100%"}},r.a.createElement(m.a,{style:{height:"100%"}},r.a.createElement(h.a,{md:8,className:"feed-header-top-posts"},"Top 1"),r.a.createElement(h.a,{md:8,className:"feed-header-top-posts"},"Top 2"),r.a.createElement(h.a,{md:8,className:"feed-header-top-posts"},"Top 3"))))}}]),t}(n.Component)),H=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={sort:"new",loaded:!1},a.handleSort=a.handleSort.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"handleSort",value:function(e){return this.props.sort(e)}},{key:"componentDidMount",value:function(){this.props.posts||this.setState({loaded:!1})}},{key:"componentDidUpdate",value:function(e,t){e.posts!==this.props.posts&&this.setState({loaded:!0})}},{key:"getPrompts",value:function(){var e=this.props,t=e.posts;e.auth;return this.state.loaded?t.map((function(e,t){return r.a.createElement(h.a,{id:"prompt"},r.a.createElement(N,{key:e.id,id:e.id,title:e.title,genre:e.genre,content:e.content,author:e.author,time:e.createdAt}))})):r.a.createElement("div",{style:{display:"flex",marginTop:"100px",justifyContent:"center"}},r.a.createElement(O.a,{size:"large"}))}},{key:"render",value:function(){var e=v.a.Option;return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(L,null),r.a.createElement("div",{id:"feed-header"},r.a.createElement("div",{id:"breadcrumb-container"},r.a.createElement(g.a,null,r.a.createElement(g.a.Item,null,"Prompts"),r.a.createElement(g.a.Item,null,this.props.query))),r.a.createElement("div",null,r.a.createElement(v.a,{defaultValue:"createdAt",style:{width:100},onChange:this.handleSort},r.a.createElement(e,{value:"createdAt"},"New"),r.a.createElement(e,{value:"Hot"},"Hot"),r.a.createElement(e,{value:"author"},"Author")))),r.a.createElement("div",null,this.getPrompts())))}}]),t}(n.Component),W=Object(D.d)(Object(P.b)((function(e,t){return{posts:e.firestore.ordered.posts,auth:e.firebase.auth}})),Object(U.firestoreConnect)((function(e){var t=e.getAll,a=e.query,n=e.sortBy;return 1==t?[{collection:"posts",orderBy:[n,"desc"]}]:[{collection:"posts",orderBy:[n,"desc"],where:["genre","==",a]}]})))(H),x=(a(141),a(77)),z=(a(705),a(374)),F=(a(643),a(125)),G=(a(645),a(268)),B=(a(647),a(366)),X=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=[r.a.createElement("span",{key:"comment-basic-like"},r.a.createElement(I.a,{title:"Like"},r.a.createElement(S.a,{type:"like"})),r.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},"54"))];return r.a.createElement(B.a,{author:r.a.createElement("a",null,this.props.author),actions:e,avatar:r.a.createElement(k.a,{icon:"user"}),content:r.a.createElement("p",null,this.props.comment),datetime:"3h Ago"})}}]),t}(n.Component),K=(a(649),a(367)),Z=(a(182),a(57)),V=Z.a.TextArea,Y=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Z.a,{className:"submit-chapter-input",placeholder:"Chapter Title",id:"input"}),r.a.createElement(V,{className:"submit-chapter-input",onChange:this.onChange,placeholder:"Content",autosize:{minRows:3,maxRows:10}}),r.a.createElement(T.a,{type:"primary",id:"submit-chapter-button"},"Submit Chapter"),r.a.createElement(T.a,null,"Cancel"),r.a.createElement(K.a,null))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={chapter:1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"onChange",value:function(e){console.log("radio checked:".concat(e.target.value))}},{key:"getCommentSort",value:function(){var e=v.a.Option;return r.a.createElement(n.Fragment,null,r.a.createElement(v.a,{defaultValue:"new",style:{width:80}},r.a.createElement(e,{value:"new"},"New"),r.a.createElement(e,{value:"hot"},"Hot"),r.a.createElement(e,{value:"top"},"Top")))}},{key:"render",value:function(){var e=G.a.Panel;return r.a.createElement("div",null,r.a.createElement(i.a,null),r.a.createElement("p",null,"Prompt: You're in your bed about to go to sleep, with your arm dangling off the side. You feel a dark hand grasp yours, knowing first impressions are important you give it a firm shake. The next thing you hear from under your bed is \"you're hired\""),r.a.createElement("br",null),r.a.createElement(G.a,{bordered:!1,expandIcon:function(e){var t=e.isActive;return r.a.createElement(S.a,{type:"plus",rotate:t?90:0})}},r.a.createElement(e,{header:"Submit Chapter 5",key:"1"},r.a.createElement(Y,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("small",null,"Chapters"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(F.a.Group,{onChange:this.onChange,defaultValue:"4",size:"large",buttonStyle:"solid"},r.a.createElement(F.a.Button,{style:{marginRight:"10px"},value:"1"},"1"),r.a.createElement(F.a.Button,{style:{marginRight:"10px"},value:"2"},"2"),r.a.createElement(F.a.Button,{style:{marginRight:"10px"},value:"3"},"3"),r.a.createElement(F.a.Button,{style:{marginRight:"10px"},value:"4"},"4")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(z.a,{className:"comment-list",header:this.getCommentSort(),itemLayout:"horizontal",dataSource:[{author:"Siki Damjanovic",comment:"blah blah blah"},{author:"Dan Di Cesare",comment:"blah blah i <3 pasta sauce"},{author:"Rob",comment:"Cant wait for wingz with the boyz"},{author:"Siki Damjanovic",comment:"blah blah blah"},{author:"Dan Di Cesare",comment:"blah blah i <3 pasta sauce"},{author:"Rob",comment:"Cant wait for wingz with the boyz"},{author:"Siki Damjanovic",comment:"blah blah blah"},{author:"Dan Di Cesare",comment:"blah blah i <3 pasta sauce"},{author:"Rob",comment:"Cant wait for wingz with the boyz"},{author:"Siki Damjanovic",comment:"blah blah blah"},{author:"Dan Di Cesare",comment:"blah blah i <3 pasta sauce"},{author:"Rob",comment:"Cant wait for wingz with the boyz"}],renderItem:function(e){return r.a.createElement("li",null,r.a.createElement(X,{author:e.author,comment:e.comment}))}}))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={visible:!1},a.handleCancel=a.handleCancel.bind(Object(y.a)(a)),a.showModal=a.showModal.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleCancel",value:function(){var e=this;this.setState({visible:!1},(function(){console.log(e.state.visible)}))}},{key:"render",value:function(){var e=w.a.Meta;return r.a.createElement("div",null,r.a.createElement(w.a,{actions:[r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"book",key:"book"})),r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"user",key:"user"})),r.a.createElement(I.a,{title:"Report this prompt"},r.a.createElement("button",{id:"cardActionBtn"},r.a.createElement(S.a,{type:"warning",key:"warning"})))],onClick:this.showModal,hoverable:!0},r.a.createElement(e,{avatar:r.a.createElement("span",null,r.a.createElement(j.a,{content:this.props.author,title:""},r.a.createElement(k.a,{icon:"user"}))),title:r.a.createElement("span",{id:"title-container"},r.a.createElement("span",{id:"card-title"},"Story Test"),r.a.createElement(A.a,null,"Story"),r.a.createElement(A.a,null,"4/5 Chapters"),r.a.createElement(A.a,{color:"#006d75"},"24h Left")),description:r.a.createElement("div",null,r.a.createElement("small",null,"Comedy"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{id:"card-content"},"blah blah blah"),r.a.createElement("br",null))})),r.a.createElement(x.a,{title:r.a.createElement("span",null,r.a.createElement("span",{style:{marginRight:"20px"}},"The Title of The Story"),r.a.createElement(A.a,null,"1 Chapter Left"),r.a.createElement(A.a,null,"#4 in Comedy")),visible:this.state.visible,onCancel:this.handleCancel,footer:null,width:"80%",headerStyle:{backgroundColor:"red"},style:{top:0,maxHeight:"100vh",padding:0}},r.a.createElement(Q,null)))}}]),t}(n.Component),q=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getStories",value:function(){return r.a.createElement(h.a,{id:"prompt"},r.a.createElement(J,null))}},{key:"render",value:function(){var e=v.a.Option;return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement("div",{id:"feed-header"},r.a.createElement("div",{id:"breadcrumb-container"},r.a.createElement(g.a,null,r.a.createElement(g.a.Item,null,"Prompts"),r.a.createElement(g.a.Item,null,this.props.query))),r.a.createElement("div",null,r.a.createElement(v.a,{defaultValue:"createdAt",style:{width:100},onChange:this.handleSort},r.a.createElement(e,{value:"createdAt"},"New"),r.a.createElement(e,{value:"Hot"},"Hot"),r.a.createElement(e,{value:"author"},"Author")))),this.getStories()))}}]),t}(n.Component),_=(a(150),a(30)),$=a(94),ee=a(267),te=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=_.a.SubMenu;return r.a.createElement(_.a,{onClick:this.handleClick,style:{width:"100%",height:"100vh"},defaultOpenKeys:["sub1","sub2"],selectedKeys:window.location.pathname,mode:"inline",id:"sidebar"},r.a.createElement(e,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"edit"}),r.a.createElement("span",null,"Prompts"))},r.a.createElement(_.a.ItemGroup,{key:"g2",title:"Categories"},r.a.createElement(_.a.Item,{key:"/prompts/category/all"},r.a.createElement(s.b,{to:{pathname:"/prompts/category/all"}},r.a.createElement($.c,{style:ae.IconStyle}),"All")),r.a.createElement(_.a.Item,{key:"/prompts/category/Comedy"},r.a.createElement(s.b,{to:{pathname:"/prompts/category/Comedy",state:{query:"Comedy"}}},r.a.createElement($.b,{style:ae.IconStyle}),"Comedy")),r.a.createElement(_.a.Item,{key:"/prompts/category/Drama"},r.a.createElement(s.b,{to:{pathname:"/prompts/category/Drama",state:{query:"Drama"}}}),r.a.createElement(ee.a,{style:ae.IconStyle}),"Drama"),r.a.createElement(_.a.Item,{key:"/prompts/category/Romance"},r.a.createElement(s.b,{to:{pathname:"/prompts/category/Romance",state:{query:"Romance"}}}),r.a.createElement($.a,{style:ae.IconStyle}),"Romance"),r.a.createElement(_.a.Item,{key:"/prompts/category/SciFi"},r.a.createElement(s.b,{to:{pathname:"/prompts/category/SciFi",state:{query:"SciFi"}}}),r.a.createElement($.d,{style:ae.IconStyle}),"SciFi"))),r.a.createElement(e,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"edit"}),r.a.createElement("span",null,"Stories"))},r.a.createElement(_.a.ItemGroup,{key:"g4",title:"Categories"},r.a.createElement(_.a.Item,{key:"/stories/category/Comedy"},r.a.createElement(s.b,{to:{pathname:"/stories/category/Comedy",state:{query:"Comedy"}}}),r.a.createElement($.b,{style:ae.IconStyle}),"Comedy"),r.a.createElement(_.a.Item,{key:"/stories/category/Drama"},r.a.createElement(s.b,{to:{pathname:"/stories/category/Drama",state:{query:"Drama"}}}),r.a.createElement(ee.a,{style:ae.IconStyle}),"Drama"),r.a.createElement(_.a.Item,{key:"13"},"Romance"),r.a.createElement(_.a.Item,{key:"14"},"Sci-Fi"))),r.a.createElement(e,{key:"sub3",title:r.a.createElement("span",null,r.a.createElement(S.a,{type:"edit"}),r.a.createElement("span",null,"Other"))},r.a.createElement(_.a.ItemGroup,{key:"g5"},r.a.createElement(_.a.Item,{key:"/account"},r.a.createElement(s.b,{to:{pathname:"/account/"+this.props.auth.displayName,state:{query:"acount"}}}),r.a.createElement($.b,{style:ae.IconStyle}),"Account"),r.a.createElement(_.a.Item,{key:"/about"},r.a.createElement(s.b,{to:{pathname:"/about",state:{query:"about"}}}),r.a.createElement($.b,{style:ae.IconStyle}),"About"))))}}]),t}(n.Component),ae={IconStyle:{marginRight:"20px"}},ne=te,re=(a(653),a(147)),le=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"isOwnProfile",value:function(){return this.props.isOwnProfile?r.a.createElement("div",null,r.a.createElement(re.a,{title:this.props.auth.displayName,subTitle:this.numberOfPosts(),avatar:{size:"large",src:"https://avatars1.githubusercontent.com/u/8186664?s=460&v=4"}}),r.a.createElement(re.a,{title:"Your Posts"}),r.a.createElement(J,null),r.a.createElement(re.a,{title:"Likes"}),r.a.createElement(J,null),r.a.createElement(re.a,{title:"Saved"}),r.a.createElement(J,null)):r.a.createElement("p",null,"Nah")}},{key:"numberOfPosts",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(A.a,null,"0 Posts"))}},{key:"render",value:function(){return r.a.createElement("div",null,this.isOwnProfile())}}]),t}(n.Component),oe=Object(D.d)(Object(P.b)((function(e,t){return{liked:e.firestore.ordered.users,auth:e.firebase.auth}})),Object(U.firestoreConnect)((function(e){e.auth;return[{collection:"users",doc:"SikiDamjanovic",subcollections:[{collection:"liked"}]}]})))(le),ce=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"footer"},"coauthor 2019")}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={query:"",getAll:!1,sort:"createdAt"},a.sort=a.sort.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.getQuery(),this.getAll()}},{key:"getQuery",value:function(){this.props.location.state&&this.setState({query:this.props.location.state.query})}},{key:"getAll",value:function(){"all"==window.location.pathname.substr(-3)&&this.setState({getAll:!0})}},{key:"sort",value:function(e){this.setState({sort:e})}},{key:"showRelevantFeed",value:function(){return"prompts"==window.location.pathname.slice(1,8)?r.a.createElement(W,{sort:this.sort,sortBy:this.state.sort,getAll:this.state.getAll,query:this.state.query}):"account"==window.location.pathname.slice(1,8)?r.a.createElement(oe,{auth:this.props.auth,isOwnProfile:!0}):r.a.createElement(q,null)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"home"},r.a.createElement(m.a,null,r.a.createElement(h.a,{xs:12,md:4},r.a.createElement(ne,{auth:this.props.auth,query:this.updateQuery})),r.a.createElement(h.a,{xs:12,sm:18,offset:1,id:"feed-container"},this.showRelevantFeed()))),r.a.createElement(ce,null))}}]),t}(n.Component),se=Object(P.b)((function(e){return{auth:e.firebase.auth}}))(ie),ue=(a(261),a(52)),me=a(76);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var pe=function(e){return function(t,a,n){var r=n.getFirebase,l=(0,n.getFirestore)();console.log(e);var o=new Date;l.collection("posts").add(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(me.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{author:r().auth().currentUser.displayName,createdAt:new Date,time:o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()+" - "+o.getHours()+":"+o.getMinutes()+":"+o.getSeconds()})).then((function(e){l.collection("posts").doc(e.id).collection("likes").doc(r().auth().currentUser.displayName).set({uid:r().auth().currentUser.uid})})).then((function(){t({type:"CREATE_POST",post:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",err:e})})),C.a.success("Your prompt has been posted!")}},de=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(me.a)({},e.target.id,e.target.value))},a.handleSelectChange=function(e){a.setState({genre:e})},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state),a.validateForm(a.state)},a.state={title:"",content:"",genre:"",visible:!1},a.handleCancel=a.handleCancel.bind(Object(y.a)(a)),a.showModal=a.showModal.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleCancel",value:function(){this.setState({visible:!1})}},{key:"validateForm",value:function(e){return e.title.length<4||e.content.length<10?C.a.error("Title or content length is too short."):0==e.genre.length?C.a.error("Please select a category."):(this.props.createPost(e),void this.handleCancel())}},{key:"render",value:function(){this.props.auth;var e=Z.a.TextArea,t=v.a.Option;return r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.showModal,type:"primary"},r.a.createElement(S.a,{type:"plus"}),"New Prompt"),r.a.createElement(x.a,{title:"New Prompt",visible:this.state.visible,onCancel:this.handleCancel,footer:null},r.a.createElement(ue.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"title",onChange:this.handleChange,placeholder:"Title"})),r.a.createElement(ue.a.Item,null,r.a.createElement(e,{id:"content",onChange:this.handleChange,rows:5,placeholder:"Content"})),r.a.createElement(ue.a.Item,null,r.a.createElement(v.a,{showSearch:!0,style:{width:200},placeholder:"Category",onChange:this.handleSelectChange,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},r.a.createElement(t,{value:"Comedy"},"Comedy"),r.a.createElement(t,{value:"Drama"},"Drama"),r.a.createElement(t,{value:"Romance"},"Romance"),r.a.createElement(t,{value:"SciFi"},"Sci-Fi"))),r.a.createElement(T.a,{type:"primary",htmlType:"submit"},r.a.createElement(S.a,{type:"plus"}),"Post Prompt"))))}}]),t}(r.a.Component),be=Object(P.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createPost:function(t){return e(pe(t))}}}))(de),Ee=(a(188),a(689),a(370)),ye=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleClose=function(e){console.log(e),a.setState({visible:!1})},a.state={visible:!1},a.showModal=a.showModal.bind(Object(y.a)(a)),a.handleClose=a.handleClose.bind(Object(y.a)(a)),a.next=a.next.bind(Object(y.a)(a)),a.previous=a.previous.bind(Object(y.a)(a)),a.carousel=r.a.createRef(),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"next",value:function(){this.carousel.next()}},{key:"previous",value:function(){this.carousel.prev()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.showModal},r.a.createElement(S.a,{type:"question"})),r.a.createElement(x.a,{title:"How CoAuthor works",visible:this.state.visible,onCancel:this.handleClose,footer:null},r.a.createElement(Ee.a,{ref:function(t){return e.carousel=t},dots:!1},r.a.createElement("div",null,r.a.createElement("h1",null,"Step 1"),r.a.createElement("p",null,"Prompts are posted and voted on by users")),r.a.createElement("div",null,r.a.createElement("h1",null,"Step 2"),r.a.createElement("p",null,"The highest ranked prompts become stories")),r.a.createElement("div",null,r.a.createElement("h1",null,"Step 3"),r.a.createElement("p",null,"Users submit written chapters for these stories. The highest ranked submission is chosen as that chapter. Then, the next chapter submission process begins until the story is complete."))),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(T.a,{onClick:this.previous},r.a.createElement(S.a,{type:"left"}),"Prev"),r.a.createElement(T.a,{onClick:this.next},r.a.createElement(S.a,{type:"right"}),"Next"))))}}]),t}(n.Component),fe=(a(271),a(375)),ge=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=r.a.createElement(_.a,null,r.a.createElement(_.a.Item,{key:"0",onClick:this.props.signOut},"Sign Out"),r.a.createElement(_.a.Item,null,r.a.createElement(s.b,{to:{pathname:"/account/"}}),"Profile"));return r.a.createElement("div",null,r.a.createElement(fe.a,{overlay:e,trigger:["click"]},r.a.createElement(T.a,null,this.props.auth.displayName,r.a.createElement(S.a,{type:"down"}))))}}]),t}(n.Component),ve=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"nav-link"},r.a.createElement(be,null)),r.a.createElement("div",{className:"nav-link"},r.a.createElement(ye,null)),r.a.createElement("div",{className:"nav-link"},r.a.createElement(ge,{signOut:this.props.signOut,auth:this.props.auth})))}}]),t}(n.Component),Oe=Object(P.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})})),C.a.success("Signed Out Successfully")}))}}}))(ve),je=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(b.a)(this,Object(E.a)(t).call(this))).handleChange=function(t){e.setState(Object(me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e.state={email:"",password:""},e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.authError;return r.a.createElement(ue.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"email",onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"password",onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(T.a,{type:"primary",htmlType:"submit"},r.a.createElement(S.a,{type:"plus"}),"Login"),r.a.createElement("div",{className:"red-text center"},e?r.a.createElement("p",null,e):null))}}]),t}(n.Component),ke=Object(P.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"}),C.a.success("Logged In Successfully")})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(je),we=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={visible:!1},a.showModal=a.showModal.bind(Object(y.a)(a)),a.handleCancel=a.handleCancel.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleCancel",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.showModal},r.a.createElement(S.a,{type:"user"}),"Login"),r.a.createElement(x.a,{title:"Login",visible:this.state.visible,onCancel:this.handleCancel,footer:null},r.a.createElement(ke,null)))}}]),t}(r.a.Component),Ce=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(b.a)(this,Object(E.a)(t).call(this))).handleChange=function(t){e.setState(Object(me.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e.state={email:"",password:"",username:""},e}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.authError;return r.a.createElement(ue.a,{onSubmit:this.handleSubmit,className:"signup-form"},r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"username",onChange:this.handleChange,placeholder:"Username"})),r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"email",onChange:this.handleChange,placeholder:"Email"})),r.a.createElement(ue.a.Item,null,r.a.createElement(Z.a,{id:"password",onChange:this.handleChange,placeholder:"Password"})),r.a.createElement(T.a,{type:"primary",htmlType:"submit"},r.a.createElement(S.a,{type:"plus"}),"Sign Up"),r.a.createElement("div",{className:"red-text center"},e?r.a.createElement("p",null,e):null))}}]),t}(n.Component),Se=Object(P.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)(),l=Object(R.getFirestore)(),o=!1;l.collection("users").get().then((function(t){t.forEach((function(e){e.id==a.username&&(o=!0,console.log("fuck"))})),0==o?r.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(e){return r.auth().currentUser.updateProfile({displayName:a.username}),l.collection("users").doc(a.username).set({uid:e.user.uid}),l.collection("users").doc(a.username).collection("liked").doc().add({type:"inital",postId:"initial"}),r.auth().currentUser.sendEmailVerification().then((function(){})).catch((function(e){}))})).then((function(){e({type:"SIGNUP_SUCCESS"}),C.a.success("Signed Up Successfully")})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})})):e({type:"NAME_TAKEN"})}))}));var a}}}))(Ce),Ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={visible:!1},a.handleCancel=a.handleCancel.bind(Object(y.a)(a)),a.showModal=a.showModal.bind(Object(y.a)(a)),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"showModal",value:function(){this.setState({visible:!0})}},{key:"handleCancel",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T.a,{onClick:this.showModal,type:"primary"},r.a.createElement(S.a,{type:"user"}),"Join"),r.a.createElement(x.a,{title:"Join CoAuthor",visible:this.state.visible,onCancel:this.handleCancel,footer:null},r.a.createElement(Se,null)))}}]),t}(r.a.Component),Ae=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"nav-link"},r.a.createElement(ye,null)),r.a.createElement("div",{className:"nav-link"},r.a.createElement(we,null)),r.a.createElement("div",{className:"nav-link"},r.a.createElement(Ie,null)))}}]),t}(n.Component),Pe=a(371),Re=a.n(Pe),Me=Object(P.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.auth,a=t.uid?r.a.createElement(Oe,{auth:t}):r.a.createElement(Ae,null);return r.a.createElement("div",null,r.a.createElement(_.a,{id:"navBar",mode:"horizontal"},r.a.createElement(m.a,{className:"nav-row"},r.a.createElement(h.a,{span:4,className:"nav-col-left"},r.a.createElement(_.a.Item,{key:"app"},r.a.createElement("img",{id:"logo",src:Re.a,alt:"logo"}))),r.a.createElement(h.a,{span:10}),r.a.createElement(h.a,{span:8,offset:1,className:"nav-col-right"},a))))})),Ne=function(){return r.a.createElement(s.a,null,r.a.createElement(c.a,null,r.a.createElement("div",null,r.a.createElement(Me,null),r.a.createElement(i.a,null),r.a.createElement(u.b,{exact:!0,path:"/",render:function(){return r.a.createElement(u.a,{to:"/prompts/category/all"})}}),r.a.createElement(u.b,{path:"/prompts/category/all",component:se}),r.a.createElement(u.b,{path:"/prompts/category/Comedy",component:se}),r.a.createElement(u.b,{path:"/prompts/category/Drama",component:se}),r.a.createElement(u.b,{path:"/prompts/category/Romance",component:se}),r.a.createElement(u.b,{path:"/prompts/category/SciFi",component:se}),r.a.createElement(u.b,{path:"/stories/category/Comedy",component:se}),r.a.createElement(u.b,{path:"/account/:id",component:se}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(me.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te={authError:null},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),Ue({},e,{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("login success"),Ue({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Ue({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Ue({},e,{authError:t.err.message});case"NAME_TAKEN":return console.log("username taken"),Ue({},e,{authError:"Name is already taken"});default:return e}},He={posts:[{id:1,title:"Greek God Revenge",content:"Youre an ancient Greek man coming home from 4 months of war to find your wife 3 months pregnant. Now youve embarked on a solemn quest: to punch Zeus in the face."},{id:2,title:"Where Is My Super Suit",content:'The Suit is powerfull. A mech for some, body armor for others, always unique to each person who wore it. Those who wear it, hear the words "not original user, booting basic mode" As a joke, your sergeant gives you The Suit and the first thing you hear is: "User detected: Welcome back, Commander"'},{id:3,title:"School Reunion",content:"The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping."},{id:4,title:"Seth The Killer",content:"The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping."},{id:5,title:"School Reunion",content:"The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping."}]},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POST":return console.log("created post",t.post),e;case"CREATE_POST_ERR":return console.log("create project error",t.err),e;default:return e}},xe=Object(D.c)({auth:Le,post:We,firestore:R.firestoreReducer,firebase:U.firebaseReducer}),ze=a(373),Fe=a(198),Ge=a.n(Fe);a(702),a(703);Ge.a.initializeApp({apiKey:"AIzaSyC-1qE_pSDh3kKMmLI3fA4iErj4qGuZrgw",authDomain:"writingrelay.firebaseapp.com",databaseURL:"https://writingrelay.firebaseio.com",projectId:"writingrelay",storageBucket:"",messagingSenderId:"549963888326",appId:"1:549963888326:web:65281ab754acef09"}),Ge.a.firestore().settings({timestampsInSnapshots:!0});var Be=Ge.a,Xe=Object(D.e)(xe,Object(D.d)(Object(D.a)(ze.a.withExtraArgument({getFirestore:R.getFirestore,getFirebase:U.getFirebase})),Object(R.reduxFirestore)(Be),Object(U.reactReduxFirebase)(Be,{attachAuthIsReady:!0})));Xe.firebaseAuthIsReady.then((function(){o.a.render(r.a.createElement(P.a,{store:Xe},r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))}},[[377,1,2]]]);
//# sourceMappingURL=main.016fc2ae.chunk.js.map