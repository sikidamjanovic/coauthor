{"version":3,"sources":["img/logo.png","Components/Posts/Prompt.js","Components/Layout/PromptsFeedHeader.js","Components/Layout/PromptsFeed.js","Components/Posts/StoryCard.js","Components/Layout/StoriesFeed.js","Components/Layout/Sidebar.js","Components/Layout/UserProfile.js","Components/Layout/Footer.js","Components/Layout/Home.js","Store/Actions/postActions.js","Components/Posts/NewPostModal.js","Components/Common/HelpModal.js","Components/Common/AccountDropdown.js","Components/Common/Notifications.js","Components/Auth/SignedInLinks.js","Store/Actions/authActions.js","Components/Auth/SignInModalDetails.js","Components/Auth/SignInModal.js","Components/Auth/SignUpModalDetails.js","Components/Auth/SignUpModal.js","Components/Auth/SignedOutLinks.js","Components/Layout/Nav.js","Components/Posts/StoryComment.js","Components/Posts/Comments.js","Components/Posts/SubmitChapter.js","Components/Posts/StoryModalContent.js","Components/Posts/StoryModal.js","App.js","serviceWorker.js","Store/Reducers/authReducer.js","Store/Reducers/postReducer.js","Store/Reducers/rootReducer.js","Config/fbConfig.js","index.js"],"names":["module","exports","firebase","require","Prompt","props","state","likes","amountOfLikes","userLiked","like","bind","this","setState","postedTime","time","diff","differenceInHours","toDate","Date","tooltipTitle","title","color","currentTime","Math","round","abs","i","length","uid","auth","type","theme","size","key","style","isEmpty","getFirestore","collection","doc","id","update","firestore","FieldValue","arrayUnion","displayName","set","postId","author","content","genre","arrayRemove","where","get","then","querySnapshot","forEach","ref","delete","message","warning","Meta","actions","onClick","renderHeart","avatar","icon","getTime","description","Component","connect","posts","ordered","PromptsFeedHeader","align","md","height","PromptsFeed","sort","loaded","handleSort","value","prevProps","prevState","map","post","createdAt","display","marginTop","justifyContent","Option","Item","query","defaultValue","width","onChange","getPrompts","compose","firestoreConnect","getAll","sortBy","orderBy","StoryCard","to","pathname","hoverable","currentChapter","StoriesFeed","stories","prompt","chapters","getStories","window","location","split","pop","Sidebar","updateWidth","addEventListener","innerWidth","openKeys","SubMenu","handleClick","position","left","zIndex","selectedKeys","mode","ItemGroup","styles","IconStyle","marginRight","UserProfile","isOwnProfile","subTitle","numberOfPosts","src","liked","users","subcollections","Footer","Home","getQuery","substr","condition","slice","xs","updateQuery","offset","showRelevantFeed","NewPostModal","handleChange","e","target","handleSelectChange","handleSubmit","preventDefault","console","log","validateForm","visible","handleCancel","showModal","error","createPost","TextArea","onCancel","footer","onSubmit","className","placeholder","rows","showSearch","optionFilterProp","filterOption","input","option","children","toLowerCase","indexOf","htmlType","React","dispatch","getState","getFirebase","today","add","currentUser","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","docRef","catch","err","success","HelpModal","handleClose","next","previous","carousel","createRef","prev","node","dots","textAlign","AccountDropdown","menu","signOut","overlay","trigger","Notifications","notifications","notification","duration","getButton","SignedInLinks","SignInModalDetails","signIn","email","password","authError","creds","credentials","signInWithEmailAndPassword","SignInModal","SignUpModalDetails","signUp","username","newUser","check","snapshot","createUserWithEmailAndPassword","resp","updateProfile","user","sendEmailVerification","SignUpModal","SignedOutLinks","links","sm","logo","alt","StoryComment","getLikeAmount","hours","likeCount","increment","renderThumb","marginLeft","comment","datetime","Comments","submissions","sortOrder","handleSortOrder","updateSort","updateSortOrder","header","getCommentSort","itemLayout","dataSource","getSubmissions","renderItem","item","locale","emptyText","showArrow","renderSortArrow","subs","push","getComments","storeAs","SubmitChapter","toString","remainingCharacters","submitChapter","autosize","minRows","maxRows","opacity","submission","StoryModalContent","chapter","updateCommentSort","updateCommentSortOrder","current","buttons","Array","fill","x","Button","Group","buttonStyle","order","Panel","minHeight","bordered","expandIcon","isActive","rotate","parseInt","renderChapterRadios","StoryModal","goBack","that","storyId","data","history","top","maxHeight","padding","App","exact","path","render","component","Boolean","hostname","match","initState","authReducer","action","postReducer","rootReducer","combineReducers","firestoreReducer","firebaseReducer","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","settings","timestampsInSnapshots","store","createStore","applyMiddleware","thunk","withExtraArgument","reduxFirestore","fbConfig","reactReduxFirebase","attachAuthIsReady","firebaseAuthIsReady","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fa6c31ea.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { Component, Fragment } from 'react';\nimport { Card, Icon, Avatar, Tag, Popover, Tooltip, message } from 'antd';\nimport '../../App.css'\nimport { connect } from 'react-redux'\nimport { getFirestore } from \"redux-firestore\";\nimport { firestore } from \"firebase\";\nvar firebase = require('firebase');\n\nclass Prompt extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            likes: [],\n            amountOfLikes: 0,\n            userLiked: false\n        }\n        this.like = this.like.bind(this)\n        this.userLiked = this.userLiked.bind(this)\n    }\n\n    componentDidMount(){\n        this.setState({\n            amountOfLikes: this.props.amountOfLikes\n        })\n    }\n\n    getTime(){\n        var postedTime = this.props.time\n        if(postedTime){\n            const diff = this.differenceInHours(postedTime.toDate(), new Date())\n            const tooltipTitle = \"The time left until this prompt possibly becomes a story\"\n            if(diff > 12){\n                return(\n                    <Tooltip title={tooltipTitle}>\n                        <Tag color=\"#006d75\">{diff + 'h Left'}</Tag>\n                    </Tooltip>\n                )\n            }else if(diff > 4){\n                return(\n                    <Tooltip title={tooltipTitle}>\n                        <Tag color=\"#faad14\">{diff + 'h Left'}</Tag>\n                    </Tooltip>\n                )\n            }else{\n                return(\n                    <Tooltip title={tooltipTitle}>\n                        <Tag color=\"#cf1322\">{diff + 'h Left'}</Tag>\n                    </Tooltip>\n                )\n            }\n        }else{\n            return <Tag>No Time</Tag>\n        }\n    }\n\n    differenceInHours(postedTime, currentTime){\n        return Math.round(48 - Math.abs(postedTime - currentTime) / 36e5)\n    }\n\n    userLiked(){\n        const likes = this.props.likes\n        for (let i = 0; i < likes.length; i++) {\n            if(likes[i].uid == this.props.auth.uid){\n                this.setState({\n                    userLiked: true\n                })\n            }else{\n                this.setState({\n                    userLiked: false\n                })\n            }\n        }\n    }\n\n    renderHeart(){\n        if(this.state.userLiked){\n            return(\n                <Icon \n                    type=\"heart\"\n                    theme=\"filled\"\n                    size=\"large\"\n                    key=\"heart\" \n                    style={{ color:'#cf1322' }}\n                />\n            )\n        }else{\n            return(\n                <Icon \n                    type=\"heart\" \n                    key=\"heart\" \n                    style={{ color:'white' }}\n                />\n            )\n        }\n    }\n\n    like(){\n        if (this.props.auth.isEmpty === false) {\n            if(this.state.userLiked == false){\n                this.setState({\n                    userLiked: true,\n                    amountOfLikes: this.state.amountOfLikes + 1\n                })\n                getFirestore().collection('posts').doc(this.props.id).update({\n                    likes: firebase.firestore.FieldValue.arrayUnion(\n                        {\n                            uid: this.props.auth.uid\n                        }\n                    )\n                })\n                getFirestore().collection('users').doc(this.props.auth.displayName).collection('liked').doc().set({\n                    type: 'prompt',\n                    postId: this.props.id,\n                    author: this.props.author,\n                    content: this.props.content,\n                    genre: this.props.genre,\n                    title: this.props.title,\n                    time: this.props.time\n                })\n            }else{\n                this.setState({\n                    userLiked: false,\n                    amountOfLikes: this.state.amountOfLikes - 1\n                })\n                // Delete user from posts 'likes' collection\n                getFirestore().collection('posts').doc(this.props.id).update({\n                    likes: firebase.firestore.FieldValue.arrayRemove(\n                        {\n                            uid: this.props.auth.uid\n                        }\n                    )\n                })\n                // Delete post from users 'liked' collection\n                var delete_query = getFirestore().collection('users').doc(this.props.auth.displayName).collection('liked').where('postId','==',this.props.id)\n                delete_query.get().then(function(querySnapshot){\n                    querySnapshot.forEach(function(doc){\n                        doc.ref.delete();\n                    })\n                })\n            }\n        }else{\n            message.warning('Please login or sign up to like prompts')\n        } \n    }\n\n    render() { \n        const { Meta } = Card;\n        return (\n            <Card\n                actions={[\n                    <button id=\"cardActionBtn\" onClick= {this.like}>\n                        {this.renderHeart()}\n                        <span id=\"likes\">\n                            {this.state.amountOfLikes}\n                        </span>\n                    </button>,\n                    <button id=\"cardActionBtn\">\n                        <Icon type=\"book\" key=\"book\" />\n                    </button>,\n                    <button id=\"cardActionBtn\">\n                        <Icon type=\"user\" key=\"user\" />\n                    </button>,\n                    <Tooltip title=\"Report this prompt\">\n                        <button id=\"cardActionBtn\">\n                            <Icon type=\"warning\" key=\"warning\" />\n                        </button>\n                    </Tooltip>\n                ]}\n            >\n                <Meta\n                    avatar={\n                        <span>\n                            <Popover content={this.props.author} title=\"\">\n                                <Avatar icon=\"user\" />\n                            </Popover>\n                        </span>\n                    }\n                    title = {\n                        <span id=\"title-container\">\n                            <span id=\"card-title\">{this.props.title}</span>\n                            <Tag>Prompt</Tag>\n                            {this.getTime()}\n                        </span>\n                    }\n                    description =  { \n                        <div>\n                            <small>{ this.props.genre }</small>\n                            <br></br><br></br>\n                            <span id=\"card-content\">{ this.props.content }</span>\n                            <br></br>\n                        </div>\n                    }\n                />\n            </Card>\n\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        posts: state.firestore.ordered.posts,\n        auth: state.firebase.auth\n    }\n}\n\n\nexport default connect(mapStateToProps)(Prompt);","import React, { Component } from 'react'\nimport Particles from 'react-particles-js'\nimport { Button, Row, Col } from 'antd'\n\nclass PromptsFeedHeader extends Component {\n    render() {\n        return (\n            <Row type=\"flex\" align=\"middle\" id=\"feed-header-container\">\n                <Col md={10}>\n                    <div id=\"feed-header-text\">\n                        <h1>PROMPTS</h1>\n                        <h4>Story ideas created and voted on by users.</h4>\n                    </div>\n                    <div>\n                        <Button id=\"feed-header-button\" type=\"primary\">Post a Prompt</Button>\n                        <Button id=\"feed-header-button\" type=\"primary\">?</Button>\n                    </div>\n                </Col>\n                <Col md={14} style={{height: '100%'}}>\n                    {/* <Row style={{height: '100%'}}>\n                        <Col md={8} className=\"feed-header-top-posts\">\n                            Top 1\n                        </Col>\n                        <Col md={8} className=\"feed-header-top-posts\">\n                            Top 2\n                        </Col>\n                        <Col md={8} className=\"feed-header-top-posts\">\n                            Top 3\n                        </Col>\n                    </Row> */}\n                </Col>\n            </Row>\n        );\n    }\n}\n\nexport default PromptsFeedHeader;","import React, { Component } from 'react';\nimport Prompt from '../Posts/Prompt'\nimport { Row, Col, Select, Breadcrumb, Icon, Spin, Button } from 'antd';\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport PromptsFeedHeader from '../Layout/PromptsFeedHeader'\nimport '../../App.css'\n\nclass PromptsFeed extends Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            sort: \"new\",\n            loaded: false\n        }\n        this.handleSort = this.handleSort.bind(this)\n    }\n\n    handleSort(value){\n        return this.props.sort(value)\n    }\n\n    componentDidMount(){\n        if(!this.props.posts){\n            this.setState({\n                loaded: false\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.posts !== this.props.posts){\n            this.setState({\n                loaded: true\n            })\n        }\n    }\n\n    getPrompts(){\n        const { posts } = this.props;\n        if(this.state.loaded){\n            if(this.props.posts.length > 0){\n                return(\n                    posts.map((post,i) =>\n                            <Col id=\"prompt\">\n                                <Prompt \n                                    key={post.id} \n                                    id={post.id} \n                                    title={post.title} \n                                    genre={post.genre}\n                                    content={post.content}\n                                    author={post.author}\n                                    time={post.createdAt}\n                                    likes={post.likes}\n                                    amountOfLikes={post.likes.length}\n                                />\n                            </Col> \n                    )\n                )\n            }else{\n                return <p>No Posts</p>\n            }\n        }else{\n            return(\n                <div style={{ display: 'flex', marginTop: '100px', justifyContent: 'center'}}>\n                    <Spin size='large'/>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        const { Option } = Select;\n        return (\n            <div>\n                <Row>\n                    <PromptsFeedHeader/>\n                    <div id=\"feed-header\">\n                        <div id=\"breadcrumb-container\">\n                            <Breadcrumb>\n                                <Breadcrumb.Item>\n                                    Prompts\n                                </Breadcrumb.Item>\n                                <Breadcrumb.Item>\n                                    {this.props.query}\n                                </Breadcrumb.Item>\n                            </Breadcrumb>\n                        </div>\n                        <div>\n                            <Select defaultValue=\"createdAt\" style={{ width: 100 }} onChange={this.handleSort}>\n                                <Option value=\"createdAt\">\n                                    {/* <Icon type=\"bulb\"/> */}\n                                    New\n                                </Option>\n                                <Option value=\"Hot\">\n                                    {/* <Icon type=\"fire\"/> */}\n                                    Hot\n                                </Option>\n                                <Option value=\"author\">\n                                    {/* <Icon type=\"arrow-up\"/> */}\n                                    Author\n                                </Option>\n                            </Select>\n                        </div>\n                    </div>\n                    <div>\n                        {this.getPrompts()}\n                    </div>\n                </Row>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        posts: state.firestore.ordered.posts,\n        auth: state.firebase.auth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect( props => {\n\n        const { getAll, query, sortBy } = props\n\n        if(getAll == true){\n            return [\n                { collection: 'posts',\n                  orderBy: [sortBy, 'desc']\n                }\n            ]\n        }else{\n            return [{ \n                collection: 'posts', \n                orderBy: [sortBy, 'desc'],\n                where: [\"genre\", \"==\", query] \n            }]\n        }\n\n    })\n)(PromptsFeed)","import React, { Component } from 'react'\nimport { Card, Icon, Avatar, Tag, Popover, Tooltip } from 'antd';\nimport { Link } from 'react-router-dom'\nimport '../../App.css'\n\nclass StoryCard extends Component {\n    render() {\n        const { Meta } = Card;\n        return (\n            <Link to={{ pathname: '/story/' + this.props.id, \n                        state: { \n                            id: this.props.id,\n                            uid: this.props.uid\n                        } \n                    }}>\n                <div>\n                    <Card\n                        actions={[                        \n                            <button id=\"cardActionBtn\">\n                                <Icon type=\"plus\" key=\"plus\"/>\n                                Follow\n                            </button>,\n                            <button id=\"cardActionBtn\">\n                                <Icon type=\"heart\" key=\"heart\" />\n                            </button>,\n                            <button id=\"cardActionBtn\">\n                                <Icon type=\"book\" key=\"book\" />\n                            </button>,\n                            <button id=\"cardActionBtn\">\n                                <Icon type=\"user\" key=\"user\" />\n                            </button>,\n                            <Tooltip title=\"Report this prompt\">\n                                <button id=\"cardActionBtn\">\n                                    <Icon type=\"warning\" key=\"warning\" />\n                                </button>\n                            </Tooltip>\n                            ]}\n                        hoverable={true}\n                    >\n                        <Meta\n                            avatar={\n                                <span>\n                                    <Popover content={this.props.author} title=\"\">\n                                        <Avatar icon=\"user\" />\n                                    </Popover>\n                                </span>\n                            }\n                            title = {\n                                <span id=\"title-container\">\n                                    <span id=\"card-title\">{this.props.title}</span>\n                                    <Tag>Story</Tag>\n                                    <Tag>{this.props.currentChapter}/4 Chapters</Tag>\n                                    <Tag color=\"#006d75\">24h Left</Tag>\n                                </span>\n                            }\n                            description =  { \n                                <div>\n                                    <small>{this.props.genre}</small>\n                                    <br></br><br></br>\n                                    <span id=\"card-content\">{this.props.content}</span>\n                                    <br></br>\n                                </div>\n                            }\n                        />\n                    </Card>\n                </div>\n            </Link>\n            )\n    }\n}\n\nexport default StoryCard;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport { Row, Col, Breadcrumb, Select, Spin } from 'antd'\nimport StoryCard from '../Posts/StoryCard'\nimport '../../App.css'\n\nclass StoriesFeed extends Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            sort: \"new\",\n            loaded: false\n        }\n        this.handleSort = this.handleSort.bind(this)\n    }\n\n    handleSort(value){\n        return this.props.sort(value)\n    }\n\n    componentDidMount(){\n        if(!this.props.stories){\n            this.setState({\n                loaded: false\n            })\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.stories !== this.props.stories){\n            this.setState({\n                loaded: true\n            })\n        }\n    }\n\n    getStories(){\n        const { stories } = this.props;\n        if(this.state.loaded){\n            return(\n                stories.map((post,i) =>\n                    <Col id=\"prompt\">\n                        <StoryCard \n                            key={post.id} \n                            uid={this.props.auth.uid}\n                            id={post.id} \n                            title={post.title} \n                            genre={post.genre}\n                            content={post.prompt}\n                            author={post.author}\n                            time={post.createdAt}\n                            currentChapter={post.currentChapter}\n                            chapters={post.chapters}\n                        />\n                    </Col> \n                )\n            )\n        }else{\n            return(\n                <div style={{ display: 'flex', marginTop: '25%', justifyContent: 'center'}}>\n                    <Spin size='large'/>\n                </div>\n            )\n        }\n    }\n\n    render() {\n        const { Option } = Select;\n        return (\n            <div>\n                <Row>\n                    <div id=\"feed-header\">\n                        <div id=\"breadcrumb-container\">\n                            <Breadcrumb>\n                                <Breadcrumb.Item>\n                                    Prompts\n                                </Breadcrumb.Item>\n                                <Breadcrumb.Item>\n                                    {this.props.query}\n                                </Breadcrumb.Item>\n                            </Breadcrumb>\n                        </div>\n                        <div>\n                            <Select defaultValue=\"createdAt\" style={{ width: 100 }} onChange={this.handleSort}>\n                                <Option value=\"createdAt\">\n                                    New\n                                </Option>\n                                <Option value=\"Hot\">\n                                    Hot\n                                </Option>\n                                <Option value=\"author\">\n                                    Author\n                                </Option>\n                            </Select>\n                        </div>\n                    </div>\n                    {this.getStories()}\n                </Row>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        stories: state.firestore.ordered.stories,\n        auth: state.firebase.auth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect( props => {\n        \n        const { getAll, sortBy } = props\n        var rawPath = window.location.pathname.split('/')\n        var query = rawPath.pop()\n\n        if(getAll == true){\n            return [\n                { collection: 'stories',\n                  orderBy: [sortBy, 'desc']\n                }\n            ]\n        }else{\n            return [{ \n                collection: 'stories', \n                orderBy: [sortBy, 'desc'],\n                where: [\"genre\", \"==\", query] \n            }]\n        }\n    })\n)(StoriesFeed)","import React, { Component } from 'react';\nimport { Menu, Icon } from 'antd';\nimport { NavLink, withRouter } from 'react-router-dom'\nimport { FaLaughSquint, FaHeart, FaRobot, FaList } from 'react-icons/fa'\nimport { GiDramaMasks } from 'react-icons/gi'\nimport '../../App.css'\n\nclass Sidebar extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            width: 0\n        }\n        this.updateWidth = this.updateWidth.bind(this)\n    }\n\n    componentDidMount(){\n        this.updateWidth();\n        window.addEventListener('resize', this.updateWidth);\n    }\n\n    updateWidth() {\n        if(window.innerWidth > 768){\n            this.setState({ \n                width: window.innerWidth,\n                openKeys: ['sub1', 'sub2']\n            });\n        }else{\n            this.setState({ \n                width: window.innerWidth,\n                openKeys: ['']\n            });\n        }\n    }\n\n    render() { \n        const { SubMenu } = Menu;\n        return (\n            <Menu\n                onClick={this.handleClick}\n                style={this.state.width > 768 ? { \n                    height: '100vh',\n                    position: 'fixed',\n                    left: 0\n                } : {\n                    position: 'fixed',\n                    left: '0',\n                    zIndex: 100\n                }}\n                openKeys={this.state.openKeys}\n                selectedKeys={window.location.pathname}\n                mode={this.state.width < 768 ? 'horizontal' : 'inline'}\n                id=\"sidebar\"\n            >\n                <SubMenu\n                    key=\"sub1\"\n                    title={\n                        <span>\n                        <Icon type=\"edit\" />\n                        <span>Prompts</span>\n                        </span>\n                    }\n                >\n\n                <Menu.ItemGroup key=\"g2\" title=\"Categories\">\n                    <Menu.Item key=\"/prompts/category/all\">\n                        <NavLink to={{\n                            pathname: \"/prompts/category/all\"\n                        }}>\n                            <FaList style={styles.IconStyle}/>\n                            All\n                        </NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"/prompts/category/Comedy\">\n                        <NavLink to={{\n                            pathname: \"/prompts/category/Comedy\",\n                            state: {\n                                query: 'Comedy'\n                            }\n                        }}>\n                            <FaLaughSquint style={styles.IconStyle}/>\n                            Comedy\n                        </NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"/prompts/category/Drama\">\n                        <NavLink to={{\n                            pathname: \"/prompts/category/Drama\",\n                            state: {\n                                query: 'Drama'\n                            }\n                        }}/>\n                        <GiDramaMasks style={styles.IconStyle}/>\n                        Drama\n                    </Menu.Item>\n                    <Menu.Item key=\"/prompts/category/Romance\">\n                        <NavLink to={{\n                            pathname: \"/prompts/category/Romance\",\n                            state: {\n                                query: 'Romance'\n                            }\n                        }}/>\n                        <FaHeart style={styles.IconStyle}/>\n                        Romance\n                    </Menu.Item>\n                    <Menu.Item key=\"/prompts/category/SciFi\">\n                        <NavLink to={{\n                            pathname: \"/prompts/category/SciFi\",\n                            state: {\n                                query: 'SciFi'\n                            }\n                        }}/>\n                        <FaRobot style={styles.IconStyle}/>\n                        SciFi\n                    </Menu.Item>\n                </Menu.ItemGroup>\n\n                </SubMenu>\n\n                {/* STORIES PART OF SIDEBAR*/}\n\n                <SubMenu\n                    key=\"sub2\"\n                    title={\n                        <span>\n                        <Icon type=\"edit\" />\n                        <span>Stories</span>\n                        </span>\n                    }\n                >\n                <Menu.ItemGroup key=\"g4\" title=\"Categories\">\n                    <Menu.Item key=\"/stories/category/all\">\n                        <NavLink to={{\n                            pathname: \"/stories/category/all\",\n                            state: {\n                                query: 'all'\n                            }\n                        }}/>\n                        <FaList style={styles.IconStyle}/>\n                        All\n                    </Menu.Item>\n                    <Menu.Item key=\"/stories/category/Comedy\">\n                        <NavLink to={{\n                            pathname: \"/stories/category/Comedy\",\n                            state: {\n                                query: 'Comedy'\n                            }\n                        }}/>\n                        <FaLaughSquint style={styles.IconStyle}/>\n                        Comedy\n                    </Menu.Item>\n                    <Menu.Item key=\"/stories/category/Drama\">\n                        <NavLink to={{\n                            pathname: \"/stories/category/Drama\",\n                            state: {\n                                query: 'Drama'\n                            }\n                        }}/>\n                        <GiDramaMasks style={styles.IconStyle}/>\n                        Drama\n                    </Menu.Item>\n                    <Menu.Item key=\"/stories/category/Romance\">\n                        <NavLink to={{\n                            pathname: \"/stories/category/Romance\",\n                            state: {\n                                query: 'Romance'\n                            }\n                        }}/>\n                        <FaHeart style={styles.IconStyle}/>\n                        Romance\n                    </Menu.Item>\n                    <Menu.Item key=\"/stories/category/SciFi\">\n                        <NavLink to={{\n                            pathname: \"/stories/category/SciFi\",\n                            state: {\n                                query: 'SciFi'\n                            }\n                        }}/>\n                        <FaRobot style={styles.IconStyle}/>\n                        SciFi\n                    </Menu.Item>\n                </Menu.ItemGroup>\n                </SubMenu>\n\n                {/* OTHER PART OF SIDEBAR*/}\n\n                <SubMenu\n                    key=\"sub3\"\n                    title={\n                        <span>\n                        <Icon type=\"edit\" />\n                        <span>Other</span>\n                        </span>\n                    }\n                >\n                <Menu.ItemGroup key=\"g5\">\n                    <Menu.Item key=\"/account\">\n                        <NavLink to={{\n                            pathname: \"/account/\" + this.props.auth.displayName,\n                            state: {\n                                query: 'acount'\n                            }\n                        }}/>\n                        <FaLaughSquint style={styles.IconStyle}/>\n                        Account\n                    </Menu.Item>\n                    <Menu.Item key=\"/about\">\n                        <NavLink to={{\n                            pathname: \"/about\",\n                            state: {\n                                query: 'about'\n                            }\n                        }}/>\n                        <FaLaughSquint style={styles.IconStyle}/>\n                        About\n                    </Menu.Item>\n                </Menu.ItemGroup>\n                </SubMenu>\n\n\n            </Menu>        \n        );\n    }\n}\n\nconst styles = {\n    IconStyle: {\n        marginRight: '20px'\n    }\n}\n \nexport default Sidebar;","import React, { Component, Fragment } from 'react';\nimport { PageHeader, Tag } from 'antd';\nimport StoryCard from '../Posts/StoryCard'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\n\nclass UserProfile extends Component {\n\n    isOwnProfile(){\n        if(this.props.isOwnProfile){\n            return(\n                <div>\n                    <PageHeader \n                        title={this.props.auth.displayName}\n                        subTitle={this.numberOfPosts()}\n                        avatar={{ size: 'large', src: 'https://avatars1.githubusercontent.com/u/8186664?s=460&v=4' }}\n                    />\n                    <PageHeader \n                        title=\"Your Posts\"\n                    />\n                    <StoryCard/>\n                    <PageHeader \n                        title=\"Likes\"\n                    />\n                    <StoryCard/>\n                    <PageHeader \n                        title=\"Saved\"\n                    />\n                    <StoryCard/>\n                </div>\n            )\n        }else{\n            return <p>Nah</p>\n        }\n    }\n\n    numberOfPosts(){\n        return(\n            <Fragment>\n                <Tag>0 Posts</Tag>\n            </Fragment>\n        )\n    }\n\n    render() {\n        return (\n            <div>\n                {this.isOwnProfile()}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        liked: state.firestore.ordered.users,\n        auth: state.firebase.auth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect( props => {\n\n        const { auth } = props\n\n        return [{ \n            collection: 'users',\n            doc: 'SikiDamjanovic',\n            subcollections: [\n                {\n                    collection: 'liked'\n                }\n            ]\n        }]\n\n    })\n)(UserProfile)","import React, { Component } from 'react';\nimport '../../App.css'\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div id=\"footer\">\n                coauthor 2019\n            </div>\n        );\n    }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport PromptsFeed from '../Layout/PromptsFeed'\nimport StoriesFeed from '../Layout/StoriesFeed'\nimport Sidebar from '../Layout/Sidebar'\nimport UserProfile from '../Layout/UserProfile'\nimport { Row, Col } from 'antd';\nimport '../../App.css'\nimport Footer from '../Layout/Footer'\nimport { connect } from 'react-redux';\n\nclass Home extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            query: '',\n            getAll: false,\n            sort: 'createdAt'\n        }\n        this.sort = this.sort.bind(this)\n    }\n\n    componentDidMount(){\n        this.getQuery()\n        this.getAll()\n    }\n\n    getQuery(){\n        if(this.props.location.state){\n            this.setState({\n                query: this.props.location.state.query\n            })\n        }\n    }\n\n    getAll(){\n        if(window.location.pathname.substr(-3) === 'all'){\n            this.setState({\n                getAll: true\n            })\n        }\n    }\n\n    sort(condition){\n        this.setState({\n            sort: condition\n        })\n    }\n\n    showRelevantFeed(){\n        if(window.location.pathname.slice(1,8) == 'prompts'){\n            return <PromptsFeed sort={this.sort} sortBy={this.state.sort} getAll={this.state.getAll} query={this.state.query}/>\n        }else if(window.location.pathname.slice(1,8) == 'account'){\n            return <UserProfile auth={this.props.auth} isOwnProfile={true}/>\n        }else{\n            return <StoriesFeed sort={this.sort} sortBy={this.state.sort} getAll={this.state.getAll} query={this.state.query}/>\n        }\n    }    \n\n    render() {\n        return (\n            <div>\n            <div id=\"home\">\n                <Row>\n                    <Col xs={24} md={4}>\n                        <Sidebar auth={this.props.auth} query={this.updateQuery}/>\n                    </Col>\n                    <Col xs={22} md={18} offset={1}  id=\"feed-container\">\n                        {this.showRelevantFeed()}\n                    </Col>\n                </Row>\n            </div>\n            <Footer/>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nexport default connect(mapStateToProps)(Home);","import { getFirestore } from \"redux-firestore\";\nimport * as firebase from \"firebase\";\nimport 'firebase/firestore'\nimport { message } from 'antd'\n\nexport const createPost = (post) => {\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\n        // make async call to db\n        const firestore = getFirestore()\n        console.log(post)\n        var today = new Date();\n        firestore.collection('posts').add({ \n            ...post,\n            author: getFirebase().auth().currentUser.displayName,\n            createdAt: new Date(),\n            time: today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate()+' - '+today.getHours() + \":\" + today.getMinutes() + \":\" + today.getSeconds(),\n        }).then(function(docRef) { //setting an initial like from the user\n            firestore.collection('posts').doc(docRef.id).collection('likes').doc(getFirebase().auth().currentUser.displayName).set({\n                uid: getFirebase().auth().currentUser.uid\n            })\n        }).then(() => {\n            dispatch({ type: 'CREATE_POST', post})\n        }).catch((err) => {\n            dispatch({ type: 'CREATE_PROJECT_ERROR', err })\n        })\n        message.success('Your prompt has been posted!')\n    } \n}\n\nexport const submitChapter = (submission) => {\n    return (dispatch, getState, { getFirebase, getFirestore }) => {\n        const firestore = getFirestore()\n        firestore.collection('stories').doc(submission.postId).collection('submissions').doc().set({\n            ...submission,\n            likes: [],\n            likeCount: 0,\n            author: getFirebase().auth().currentUser.displayName,\n            time: new Date()\n        })\n        message.success('Your chapter has been submitted!')\n        .then(() => {\n            dispatch({ type: 'SUBMIT_CHAPTER', submission})\n        }).catch((err) => {\n            dispatch({ type: 'SUBMIT_CHAPTER_ERROR', err })\n        })\n    }\n}","import React from 'react';\nimport { Button, Modal, Icon, Form, Input, Select, message } from 'antd';\nimport { connect } from 'react-redux'\nimport { createPost } from '../../Store/Actions/postActions'\n\nclass NewPostModal extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            title: '',\n            content: '',\n            genre: '',\n            likes: [],\n            visible: false\n        }\n        this.handleCancel = this.handleCancel.bind(this)\n        this.showModal = this.showModal.bind(this)\n    }\n\n    showModal(){\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleCancel(){\n        this.setState({\n            visible: false\n        })\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSelectChange = (e) => {\n        this.setState({\n            genre: e\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(this.state);\n        this.validateForm(this.state)\n    }\n\n    validateForm(state){\n        if(state.title.length < 4 || state.content.length < 10){\n            return message.error('Title or content length is too short.')\n        }else if(state.genre.length == 0){\n            return message.error('Please select a category.')\n        }else{\n            this.props.createPost(state)\n            this.handleCancel()\n        }\n    }\n\n    render() {\n        const { auth } = this.props;\n        //if (!auth.uid) return <redirect to= '/signin'/> //Use for actions that the user cant complete unless they are signed in\n        const { TextArea } = Input;\n        const { Option } = Select;\n        return (\n            <div>\n                <Button \n                    onClick={this.showModal}\n                    type=\"primary\"\n                >\n                    <Icon type=\"plus\"/>    \n                    New Prompt\n                </Button>\n                <Modal\n                    title=\"New Prompt\"\n                    visible={this.state.visible}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                >\n\n                {/* **** MODAL DETAILS (FORM) ****/}\n                    <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                        <Form.Item>\n                            <Input\n                                id=\"title\"\n                                onChange={this.handleChange} \n                                placeholder=\"Title\"\n                            />\n                        </Form.Item>\n                        <Form.Item>\n                            <TextArea\n                                id=\"content\" \n                                onChange={this.handleChange}\n                                rows={5}\n                                placeholder=\"Content\"\n                            />\n                        </Form.Item>\n                        <Form.Item>\n                            <Select\n                                showSearch\n                                style={{ width: 200 }}\n                                placeholder=\"Category\"\n                                onChange={this.handleSelectChange}\n                                optionFilterProp=\"children\"\n                                filterOption={(input, option) =>\n                                    option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                }\n                            >\n                                <Option value=\"Comedy\">Comedy</Option>\n                                <Option value=\"Drama\">Drama</Option>\n                                <Option value=\"Romance\">Romance</Option>\n                                <Option value=\"SciFi\">Sci-Fi</Option>\n                            </Select>\n                        </Form.Item>\n                        <Button type=\"primary\" htmlType=\"submit\">    \n                            <Icon type=\"plus\"/>\n                            Post Prompt\n                        </Button>\n                    </Form>\n                \n                </Modal>\n\n            </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        createPost: (post) => dispatch(createPost(post))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewPostModal)","import React, { Component } from 'react'\nimport { Modal, Button, Carousel, Icon } from 'antd';\nimport '../../App.css'\n\nclass HelpModal extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            visible: false\n        }\n        this.showModal = this.showModal.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n        this.next = this.next.bind(this);\n        this.previous = this.previous.bind(this);\n        this.carousel = React.createRef();\n    }\n\n    showModal = () => {\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleClose = e => {\n        console.log(e)\n        this.setState({\n            visible: false\n        })\n    }\n\n    next() {\n        this.carousel.next();\n    }\n\n    previous() {\n        this.carousel.prev();\n    }\n\n    render() {\n        return (\n            <div>\n                <Button onClick={this.showModal}>\n                    <Icon type=\"question\"/>\n                </Button>\n                <Modal\n                    title=\"How CoAuthor works\"\n                    visible={this.state.visible}\n                    onCancel={this.handleClose}\n                    footer={null}\n                >\n                <Carousel \n                    ref={node => (this.carousel = node)}\n                    dots={false}\n                >\n                    <div>\n                        <h1>\n                            Step 1\n                        </h1>\n                        <p>Prompts are posted and voted on by users</p>\n                    </div>\n                    <div>\n                        <h1>\n                            Step 2\n                        </h1>\n                        <p>The highest ranked prompts become stories</p>\n                    </div>\n                    <div>\n                        <h1>    \n                            Step 3\n                        </h1>\n                        <p>Users submit written chapters for these stories. The highest ranked submission\n                            is chosen as that chapter. Then, the next chapter submission process begins until the story\n                            is complete.\n                        </p>\n                    </div>\n\n                </Carousel>\n                <div style={{ textAlign: \"center\" }}>\n                    <Button onClick={this.previous}>\n                        <Icon type=\"left\"/>\n                        Prev\n                    </Button>\n                    <Button onClick={this.next}>\n                        <Icon type=\"right\"/>\n                        Next\n                    </Button>\n                </div>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default HelpModal;","import React, { Component } from 'react'\nimport { Menu, Dropdown, Icon, Button, Avatar } from 'antd';\nimport { NavLink, withRouter } from 'react-router-dom'\n\nclass AccountDropdown extends Component {\n    \n    render() {\n\n        const menu = (\n            <Menu>\n                <Menu.Item key=\"0\" onClick={this.props.signOut}>\n                    Sign Out\n                </Menu.Item>\n                <Menu.Item>\n                    <NavLink to={{\n                        pathname: \"/account/\"\n                    }}/>\n                    Profile\n                </Menu.Item>\n            </Menu>\n        )\n\n        return (\n            <div>\n                <Dropdown overlay={menu} trigger={['click']}>\n                    <Button>\n                        {this.props.auth.displayName} \n                        <Icon type=\"down\" />\n                    </Button>\n                </Dropdown>\n            </div>\n        );\n    }\n}\n\nexport default AccountDropdown\n","import React, { Component, Fragment } from 'react'\nimport { notification, Button } from 'antd'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\n\nclass Notifications extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            loaded: false\n        }\n    }\n\n    componentDidUpdate(prevState, prevProps){\n        const notifications = this.props.notifications\n        if(prevProps.notifications !== notifications){\n            return(\n                notification.success({\n                    duration: 5,\n                    message: notifications[0].message,\n                    description: this.getButton()\n                })\n            )\n        }\n    }\n\n    getButton(){\n        return(\n            <div>\n                <p>5 min ago</p>\n                <Button type=\"primary\" style={{ marginTop: '10px' }}>Go to Story</Button>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <Fragment>\n            </Fragment>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        loaded: true,\n        notifications: state.firestore.ordered.notifications,\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect( props => {\n        return [{ collection: 'notifications', orderBy: ['time', 'desc']}]\n    })\n)(Notifications)","import React, { Component, Fragment } from 'react'\nimport NewPostModal from '../Posts/NewPostModal';\nimport { signOut } from '../../Store/Actions/authActions'\nimport { connect } from 'react-redux'\nimport HelpModal from '../Common/HelpModal'\nimport AccountDropdown from '../Common/AccountDropdown'\nimport Notifications from '../Common/Notifications'\nimport '../../App.css'\n\nclass SignedInLinks extends Component {\n\n    render() {\n        return (\n            <Fragment>\n\n                <div className=\"nav-link\">\n                    <NewPostModal/>\n                </div>\n\n                <div className=\"nav-link\">\n                    <HelpModal/>\n                </div>\n\n                <div className=\"nav-link\">\n                    <AccountDropdown signOut={this.props.signOut} auth={this.props.auth}/>\n                </div>\n\n                <Notifications/>\n\n            </Fragment>\n        );\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signOut: () => dispatch(signOut())\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(SignedInLinks);","import { firestore } from \"firebase\";\nimport { responsiveArray } from \"antd/lib/_util/responsiveObserve\";\nimport { getFirestore } from \"redux-firestore\";\nimport { relativeTimeRounding } from \"moment\";\nimport { notification, message } from 'antd'\n\nexport const signIn = (credentials) => {\n    return (dispatch, getState, {getFirebase}) => {\n        const firebase = getFirebase();\n\n        firebase.auth().signInWithEmailAndPassword(\n            credentials.email,\n            credentials.password\n        ).then(() => {\n            dispatch({ type: 'LOGIN_SUCCESS'});\n            message.success('Logged In Successfully')\n        }).catch((err) => {\n            dispatch({ type: 'LOGIN_ERROR', err });\n        })\n    }\n} \n\nexport const signOut = () => {\n    return (dispatch, getState, {getFirebase}) => {\n        const firebase = getFirebase();\n        firebase.auth().signOut().then(() => {\n            dispatch({ type: 'SIGNOUT_SUCCESS' });\n        })\n        message.success('Signed Out Successfully')\n    }\n}\n\nexport const signUp = (newUser) => {\n    return (dispatch, getState, {getFirebase}) => {\n        const firebase = getFirebase();\n        const firestore = getFirestore();\n       \n        let check = false;\n        let usersRef = firestore.collection('users');\n        let query = usersRef.get(\n        ).then(snapshot => {\n            snapshot.forEach(doc => {\n                //console.log(doc.id, '=>', doc.data());\n                if (doc.id == newUser.username) { check = true; console.log('fuck')}\n            });\n            if (check == false) {\n\n                firebase.auth().createUserWithEmailAndPassword(\n                    newUser.email,\n                    newUser.password,\n                ).then((resp) => {\n                    firebase.auth().currentUser.updateProfile({\n                    displayName: newUser.username,\n                    });\n                    return (\n                        firestore.collection('users').doc(newUser.username).set({\n                            uid: resp.user.uid\n                        }),\n                        firestore.collection('users').doc(newUser.username).collection('liked').doc().add({\n                            type: 'inital',\n                            postId: 'initial'\n                        }),\n                        firebase.auth().currentUser.sendEmailVerification().then(function() {\n                            //email sent, look for emailVerified \n                        }).catch(function(err) {\n                            //error\n                        })\n                    )\n                }).then(() => {\n                    dispatch({ type: 'SIGNUP_SUCCESS'})\n                    message.success('Signed Up Successfully')\n                }).catch(err => {\n                    dispatch({ type: 'SIGNUP_ERROR', err})\n                })\n            } else {\n                dispatch({ type: 'NAME_TAKEN'})\n            }\n        })\n\n    }\n}","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button,  Select } from 'antd';\nimport { connect } from 'react-redux';\nimport { signIn } from '../../Store/Actions/authActions'\n\nclass SignInModalDetails extends Component {\n  \n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: ''\n        }\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.signIn(this.state);\n    }\n\n    render() {\n        const { authError } = this.props\n        return (\n\n            <Form onSubmit={this.handleSubmit} className=\"login-form\">\n                \n                <Form.Item>\n                    <Input\n                        id=\"email\"\n                        onChange={this.handleChange} \n                        placeholder=\"Email\"\n                    />\n                </Form.Item>\n\n                <Form.Item>\n                    <Input\n                        id=\"password\"\n                        onChange={this.handleChange} \n                        placeholder=\"Password\"\n                    />\n                </Form.Item>\n\n                <Button type=\"primary\" htmlType=\"submit\">    \n                    <Icon type=\"plus\"/>\n                    Login\n                </Button>\n                <div className=\"red-text center\">\n                    { authError ? <p>{authError}</p> : null }\n                </div>\n\n            </Form>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        authError: state.auth.authError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signIn: (creds) => dispatch(signIn(creds))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignInModalDetails)","import React from 'react';\nimport SignInModalDetails from '../Auth/SignInModalDetails'\nimport { Button, Modal, Icon } from 'antd';\n\nclass SignInModal extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            visible: false\n        }\n        this.showModal = this.showModal.bind(this)\n        this.handleCancel = this.handleCancel.bind(this)\n    }\n\n    showModal(){\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleCancel(){\n        this.setState({\n            visible: false\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Button onClick={this.showModal}>\n                    <Icon type=\"user\"/>    \n                    Login\n                </Button>\n                <Modal\n                    title=\"Login\"\n                    visible={this.state.visible}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                >\n                \n                <SignInModalDetails/>\n                    \n                </Modal>\n            </div>\n    );\n  }\n}\n\nexport default SignInModal","import React, { Component } from 'react'\nimport { Form, Icon, Input, Button,  Select } from 'antd';\nimport { connect } from 'react-redux';\nimport { signUp } from '../../Store/Actions/authActions'\n\nclass SignUpModalDetails extends Component {\n  \n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            username: ''\n        }\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.props.signUp(this.state);\n    }\n\n    render() {\n        const { authError } = this.props\n        return (\n\n            <Form onSubmit={this.handleSubmit} className=\"signup-form\">\n                <Form.Item>\n                    <Input\n                        id=\"username\"\n                        onChange={this.handleChange} \n                        placeholder=\"Username\"\n                    />\n                </Form.Item>\n\n                <Form.Item>\n                    <Input\n                        id=\"email\"\n                        onChange={this.handleChange} \n                        placeholder=\"Email\"\n                    />\n                </Form.Item>\n\n                <Form.Item>\n                    <Input\n                        id=\"password\"\n                        onChange={this.handleChange} \n                        placeholder=\"Password\"\n                    />\n                </Form.Item>\n\n                <Button type=\"primary\" htmlType=\"submit\">    \n                    <Icon type=\"plus\"/>\n                    Sign Up\n                </Button>\n                <div className=\"red-text center\">\n                    { authError ? <p>{authError}</p> : null }\n                </div>\n\n            </Form>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        authError: state.auth.authError\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        signUp: (creds) => dispatch(signUp(creds))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpModalDetails)","import React from 'react';\nimport SignUpModalDetails from '../Auth/SignUpModalDetails'\nimport { Modal, Button, Icon } from 'antd';\n\nclass SignUpModal extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            visible: false\n        }\n        this.handleCancel = this.handleCancel.bind(this)\n        this.showModal = this.showModal.bind(this)\n    }\n\n    showModal(){\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleCancel(){\n        this.setState({\n            visible: false\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <Button \n                    onClick={this.showModal}\n                    type=\"primary\"\n                >\n                    <Icon type=\"user\"/>    \n                    Join\n                </Button>\n                <Modal\n                    title=\"Join CoAuthor\"\n                    visible={this.state.visible}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                >\n                <SignUpModalDetails/>\n                </Modal>\n            </div>\n    );\n  }\n}\n\nexport default SignUpModal","import React, { Component, Fragment } from 'react'\nimport SignInModal from '../Auth/SignInModal'\nimport SignUpModal from '../Auth/SignUpModal'\nimport HelpModal from '../Common/HelpModal'\nimport '../../App.css'\n\nclass SignedOutLinks extends Component {\n    \n    render() {\n        return (\n            <Fragment>\n\n                <div className=\"nav-link\">\n                    <HelpModal/>\n                </div>\n\n                <div className=\"nav-link\">\n                    <SignInModal/>\n                </div>\n                \n                <div className=\"nav-link\">\n                    <SignUpModal/>\n                </div>\n                \n            </Fragment>\n            \n        );\n    }\n}\n\nexport default SignedOutLinks;","import React from 'react'\nimport { Menu, Row, Col } from 'antd'\nimport '../../App.css'\nimport SignedInLinks from '../Auth/SignedInLinks';\nimport SignedOutLinks from '../Auth/SignedOutLinks';\nimport { connect } from 'react-redux';\nimport { NavLink, withRouter } from 'react-router-dom'\nimport logo from '../../img/logo.png'\n\nconst Nav = (props) => {\n    const { auth } = props;\n    const links = auth.uid ? <SignedInLinks auth={auth}/> : <SignedOutLinks/>;\n    return (\n        <div>\n            <Menu id=\"navBar\" mode=\"horizontal\">\n\n                <Row className=\"nav-row\">\n                    <Col xs={24} sm={6} className=\"nav-col-left\">\n                        <Menu.Item key=\"app\">\n                            <NavLink to={{\n                                pathname: \"/\"\n                            }}>\n                                <img id=\"logo\" src={logo} alt=\"logo\"/>\n                            </NavLink>\n                        </Menu.Item>\n                    </Col>\n\n                    <Col xs={0} sm={4}>\n                    </Col>\n\n                    <Col xs={22} sm={10} offset={1} className=\"nav-col-right\">\n                        { links }\n                    </Col>\n                </Row>\n\n            </Menu>\n        </div>\n\n    );\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nexport default connect(mapStateToProps)(Nav);","import React, { Component } from 'react'\nimport { Comment, Tooltip, Icon, Avatar, message } from 'antd'\nimport { getFirestore } from \"redux-firestore\";\nvar firebase = require('firebase');\n\nclass StoryComment extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            amountOfLikes : 0,\n            userLiked: false\n        }\n        this.like = this.like.bind(this)\n        this.userLiked = this.userLiked.bind(this)\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(prevProps.id !== this.props.id){\n            this.setState({\n                amountOfLikes : 0,\n                userLiked: false\n            })\n            this.getLikeAmount()\n            this.userLiked()    \n        }\n    }\n\n    componentDidMount(){\n        this.getLikeAmount()\n        this.userLiked()\n    }\n\n    getTime(){\n        var postedTime = this.props.time\n        var currentTime = new Date()\n        var diff = currentTime - postedTime\n        var hours = diff / 1000 / 60 / 60\n        if(hours < 1){\n            if(hours < 0.016){\n                return 'now'\n            }else{\n                return Math.round(diff / 1000 / 60) + ' minutes ago'\n            }\n        }else{\n            return Math.round(hours) + ' hours ago'\n        }\n    }\n\n    userLiked(){\n        const likes = this.props.likes\n        for (let i = 0; i < likes.length; i++) {\n            if(likes[i].uid == this.props.uid){\n                this.setState({\n                    userLiked: true\n                })\n            }else{\n                this.setState({\n                    userLiked: false\n                })\n            }\n        }\n    }\n\n    renderThumb(){\n        if(this.state.userLiked){\n            return(\n                <Icon \n                    type=\"heart\"\n                    theme=\"filled\"\n                    size=\"large\"\n                    key=\"heart\" \n                    style={{ color:'#fa541c' }}\n                />\n            )\n        }else{\n            return(\n                <Icon \n                    type=\"heart\" \n                    key=\"heart\" \n                    style={{ color:'white' }}\n                />\n            )\n        }\n    }\n\n    getLikeAmount(){\n        this.setState({\n            amountOfLikes: this.props.likeCount\n        })\n    }\n\n    like(){\n        if (this.props.uid) {\n            if(this.state.userLiked == false){\n                this.setState({\n                    userLiked: true,\n                    amountOfLikes: this.state.amountOfLikes + 1\n                })\n                getFirestore().collection('stories').doc(this.props.postId).collection('submissions').doc(this.props.id)\n                .update({\n                    likes: firebase.firestore.FieldValue.arrayUnion(\n                        {\n                            uid: this.props.uid\n                        }\n                    ),\n                    likeCount: firebase.firestore.FieldValue.increment(1)\n                })\n                message.success('Comment Liked!')\n            }else{\n                this.setState({\n                    userLiked: false,\n                    amountOfLikes: this.state.amountOfLikes - 1\n                })\n                getFirestore().collection('stories').doc(this.props.postId).collection('submissions').doc(this.props.id)\n                .update({\n                    likes: firebase.firestore.FieldValue.arrayRemove(\n                        {\n                            uid: this.props.uid\n                        }\n                    ),\n                    likeCount: firebase.firestore.FieldValue.increment(-1)\n                })\n            }\n        }else{\n            message.error('Please Login To Like Submissions')\n        }\n\n    }\n\n    render() {  \n        const actions = [\n            <span onClick={this.like} key=\"comment-basic-like\">\n                <Tooltip title=\"Like\">\n                    {this.renderThumb()}\n                    <span style={{ marginLeft: '5px' }}>\n                        {this.state.amountOfLikes}\n                    </span>\n                </Tooltip>\n                {/* <span style={{ paddingLeft: 8, cursor: 'auto' }}>{this.props.likes.length}</span> */}\n            </span>\n        ]\n        return (\n            <Comment\n                author={<a>{this.props.author}</a>}\n                actions={actions}\n                avatar={\n                    <Avatar icon=\"user\" />\n                }\n                content={\n                <p>\n                    {this.props.comment}\n                </p>\n                }\n                datetime={\n                    this.getTime()\n                }\n            />\n        )\n    }\n}\n\nexport default StoryComment;","import React, { Component } from 'react'\nimport StoryComment from '../Posts/StoryComment'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport { List, Select, Button, Icon } from 'antd'\n\n\nclass Comments extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            loaded: false,\n            submissions: [],\n            sortOrder: 'desc'\n        }        \n        this.handleSort = this.handleSort.bind(this)\n        this.handleSortOrder = this.handleSortOrder.bind(this)\n    }\n\n    componentDidUpdate(prevState, prevProps){\n        if(this.state.loaded !== this.props.loaded || prevState.submissions !== this.props.submissions){\n            this.setState({\n                loaded: true,\n                submissions: this.props.submissions\n            })\n        }\n    }\n\n    handleSort(value){\n        return this.props.updateSort(value)\n    }\n\n    handleSortOrder(){\n        var order = this.props.sortOrder\n        if(order == 'desc'){\n            return this.props.updateSortOrder('asc')\n        }else{\n            return this.props.updateSortOrder('desc')\n        }\n    }\n    \n    renderSortArrow(){\n        var order = this.props.sortOrder\n        if(order == 'desc'){\n            return <Icon type=\"down\"/>\n        }else{\n            return <Icon type=\"up\"/>\n        }\n    }\n\n    getComments(){\n        if(this.state.loaded && this.state.submissions.length > 0){\n            return(\n                <List\n                    className=\"comment-list\"\n                    header={this.getCommentSort()}\n                    itemLayout=\"horizontal\"\n                    dataSource={this.getSubmissions()}\n                    renderItem={item => (\n                        <li>\n                            <StoryComment \n                                id={item.id}\n                                postId={item.postId}\n                                uid={this.props.auth.uid}\n                                author={item.author}\n                                comment={item.content}\n                                likes={item.likes}\n                                likeCount={item.likeCount}\n                                time={item.time}\n                            />\n                        </li>\n                    )}\n                />\n            )\n        }else{\n            return(\n                <List\n                    className=\"comment-list\"\n                    header={this.getCommentSort()}\n                    itemLayout=\"horizontal\"\n                    dataSource={[]} \n                    locale={{ emptyText: <p>No Submissions</p> }}\n                />\n            )\n        }\n    }\n\n    getCommentSort(){\n        const { Option } = Select;\n        return(\n            <div>\n                <Select \n                    defaultValue=\"time\" \n                    style={{ width: 80 }} \n                    onChange={this.handleSort}\n                    showArrow={false}\n                >\n                    <Option value=\"time\">New</Option>\n                    <Option value=\"likeCount\">Top</Option>\n                </Select>\n                <Button style={{ marginLeft: '5px' }} onClick={this.handleSortOrder}>\n                    {this.renderSortArrow()}\n                </Button>\n            </div>\n        )\n    }\n\n    getSubmissions(){\n        const subs = []\n        for (let i = 0; i < this.state.submissions.length; i++) {\n            subs.push({\n                postId: this.state.submissions[i].postId,\n                uid: this.props.auth.uid,\n                id: this.state.submissions[i].id,\n                author: this.state.submissions[i].author,\n                content: this.state.submissions[i].content,\n                likes: this.state.submissions[i].likes,\n                likeCount: this.state.submissions[i].likeCount,\n                time: this.state.submissions[i].time.toDate()\n            })\n        }\n        return subs\n    }\n\n    render() {\n        return (\n            <div>\n                {this.getComments()}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n        submissions: state.firestore.ordered.submissions,\n        auth: state.firebase.auth,\n        loaded: true\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps),\n    firestoreConnect(props => {\n        return [{\n            collection: 'stories',\n            doc: props.id,\n            subcollections: [{ collection: 'submissions'}],\n            orderBy: [props.sort, props.sortOrder],\n            storeAs: 'submissions'\n        }];\n    })\n)(Comments)","import React, { Component } from 'react'\nimport { Input, Button, Divider, Form, message } from 'antd';\nimport { connect } from 'react-redux'\nimport { submitChapter } from '../../Store/Actions/postActions'\n\nconst { TextArea } = Input;\n\nclass SubmitChapter extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            content: '',\n            remainingCharacters: 2000\n        }\n    }\n\n    componentDidMount(){\n        this.setState({\n            postId: this.props.id\n        })\n    }\n\n    handleChange = (e) => {\n        if(e.target.id == 'content'){\n            var content = e.target.value.toString()\n            this.setState({\n                remainingCharacters: 2000 - content.length\n            })\n        }\n        this.setState({\n            [e.target.id]: e.target.value\n        })\n    }\n\n    handleSubmit = (e) =>{\n        e.preventDefault();\n        if(this.state.remainingCharacters > 0){\n            this.props.submitChapter(this.state)\n        }else{\n            message.error('Chapter is too long.')\n        }\n    }\n\n    render() { \n        return (  \n            <div>\n                <Form onSubmit={this.handleSubmit}>\n                <Form.Item>\n                    <TextArea\n                        id=\"content\"\n                        className=\"submit-chapter-input\"\n                        onChange={this.handleChange}\n                        placeholder=\"Content\"\n                        autosize={{ minRows: 3, maxRows: 15 }}\n                    />\n                </Form.Item>\n                <span \n                    style={\n                        this.state.remainingCharacters < 0 \n                            ? \n                            { \n                                color: '#fa541c', \n                                opacity: 0.5\n                            } \n                            : \n                            { \n                                opacity: 0.5 \n                            }\n                    }\n                >\n                    <small>{this.state.remainingCharacters} characters left</small>\n                </span>\n                <br></br>\n                <Button \n                    type=\"primary\"\n                    id=\"submit-chapter-button\"\n                    htmlType=\"submit\"\n                >\n                    Submit Chapter\n                </Button>\n                </Form>\n                <Divider/>\n            </div>\n        );\n    }\n}\n \nconst mapStateToProps = (state) => {\n    return {\n        auth: state.firebase.auth\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        submitChapter: (submission) => dispatch(submitChapter(submission))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubmitChapter)\n\n","import React from 'react';\nimport Comments from './Comments'\nimport SubmitChapter from './SubmitChapter'\nimport { Collapse, Radio, Icon} from 'antd';\nimport '../../App.css'\n\nclass StoryModalContent extends React.Component {\n\n    constructor(props){\n        super(props)\n        this.state={\n            chapter: 1,\n            sort: 'time',\n            sortOrder: 'desc'\n        }\n        this.updateCommentSort = this.updateCommentSort.bind(this)\n        this.updateCommentSortOrder = this.updateCommentSortOrder.bind(this)\n    }\n\n    onChange(e) {\n        console.log(`radio checked:${e.target.value}`);\n    }\n\n    renderChapterRadios(){\n        var current = this.props.currentChapter\n        var map = new Array(current).fill(null).map( (x,i) => i + 1 )\n        const buttons = map.map((i) => \n            <Radio.Button style={{marginRight: '10px'}} value='1'>{i}</Radio.Button>\n        );\n        return(\n            <Radio.Group onChange={this.onChange} defaultValue={current.toString()} size=\"large\" buttonStyle=\"solid\">\n                {buttons}\n            </Radio.Group>\n        )\n    }\n\n    updateCommentSort(value){\n        this.setState({\n            sort: value,\n            sortOrder: 'desc'\n        })\n    }\n\n    updateCommentSortOrder(order){\n        this.setState({\n            sortOrder: order\n        })\n    }\n\n    render() {\n\n        const { Panel } = Collapse; \n\n        return (\n            <div style={{ minHeight: '90vh'}}>\n                <p>{this.props.prompt}</p>\n                <br></br>\n                <Collapse \n                    bordered={false}\n                    expandIcon={({ isActive }) => <Icon type=\"plus\" rotate={isActive ? 90 : 0} />}\n                >\n                    <Panel header={\"Submit Chapter \" + parseInt(this.props.currentChapter)} key=\"1\">\n                        <SubmitChapter\n                            id={this.props.id}\n                        />\n                    </Panel>\n                </Collapse>\n                <br></br>\n                <br></br>\n                <small>Chapters</small>\n                <br></br>\n                <br></br>\n                {this.renderChapterRadios()}\n                <br></br>\n                <br></br>\n                <Comments \n                    id={this.props.id} \n                    uid={this.props.uid}\n                    sort={this.state.sort}\n                    sortOrder={this.state.sortOrder}\n                    updateSort={this.updateCommentSort}\n                    updateSortOrder={this.updateCommentSortOrder}\n                />\n            </div>\n    );\n  }\n}\n\nexport default StoryModalContent","import React, { Component } from 'react'\nimport StoryModalContent from './StoryModalContent'\nimport { Modal, Button, Icon, Tag } from 'antd';\nimport { getFirestore } from 'redux-firestore'\n\nclass StoryModal extends Component {\n\n    constructor(props){\n        super(props)\n        this.state = {\n            visible: true,\n            loaded: false,\n            error: false\n        }\n        this.handleCancel = this.handleCancel.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.goBack = this.goBack.bind(this);\n    }\n\n    componentDidMount(){\n\n        var that = this;\n        var rawPath = window.location.pathname.split('/')\n        var storyId = rawPath.pop()\n\n        getFirestore().collection('stories').doc(storyId).get()\n        .then(function(doc){\n            that.setState({\n                data: doc.data()\n            })\n            console.log('HERE', storyId)\n            console.log('HEY!!!', doc.data())\n        }).catch(function(error){\n            that.setState({\n                error: true\n            })\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(prevState.data !== this.state.data){\n            this.setState({\n                loaded: true\n            })\n        }    \n    }\n     \n    goBack(){\n        // if(document.referrer.substring(0,7) == 'cowrite'){\n        //     this.props.history.goBack();\n        // }else{\n        //     window.location.href = 'cowrite.io/stories/category/' + this.state.data.genre;\n        // }\n        this.props.history.goBack();\n    }     \n\n    showModal(){\n        this.setState({\n            visible: true\n        })\n    }\n\n    handleCancel(){\n        this.setState({ visible: false }, () => {\n            console.log(this.state.visible);\n        });\n        this.goBack()\n    }\n\n    render() {\n        if(this.state.loaded){\n\n            var data = this.state.data\n            var rawPath = window.location.pathname.split('/')\n            var storyId = rawPath.pop()\n\n            return (\n                <Modal\n                    title={\n                        <span>\n                            <span style={{ marginRight: '20px' }}>\n                                {data.title}\n                            </span>\n                            <Tag>{4 - data.currentChapter + ' Chapters Left'}</Tag>\n                            <Button>\n                                <Icon type=\"plus\"/>\n                                Follow\n                            </Button>\n                        </span>\n                    }\n                    visible={this.state.visible}\n                    onCancel={this.handleCancel}\n                    footer={null}\n                    width={'90%'}\n                    style={{ top: 0, maxHeight: '100vh', padding: 0 }}\n                >\n    \n                    <StoryModalContent\n                        id = {storyId}\n                        // uid = {this.props.location.state.uid}\n                        author = {data.author}\n                        genre = {data.genre}\n                        currentChapter = {data.currentChapter}\n                        chapters = {data.chapters}\n                        prompt = {data.prompt}\n                        time = {data.time}\n                    />      \n                </Modal>\n            );\n        }else{\n            return(\n                <Modal \n                    visible={this.state.visible}\n                    onCancel={this.handleCancel} \n                    width={'90%'} \n                    footer={null} \n                    style={{ top: 0 }}\n                >\n                    <div style={{ height: '100vh' }}></div>\n                </Modal>\n            )\n        }\n    }\n}\n\nexport default StoryModal;","import React from 'react';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\nimport Home from './Components/Layout/Home'\nimport Nav from './Components/Layout/Nav'\nimport StoryModal from './Components/Posts/StoryModal'\nimport { BackTop, Layout } from 'antd';\nimport './App.css'\n\nconst App = () => (\n    <Router>\n        <Layout>\n        <div>\n            <Nav/>\n            <BackTop/>\n            {/* Redirect user to prompts during inital load */}\n            <Route exact path=\"/\" render={() => (\n                <Redirect to=\"/prompts/category/all\"/>\n            )}/>\n            <Route path=\"/prompts/category/all\" component={Home}/>\n            <Route path=\"/prompts/category/Comedy\" component={Home}/>\n            <Route path=\"/prompts/category/Drama\" component={Home}/>\n            <Route path=\"/prompts/category/Romance\" component={Home}/>\n            <Route path=\"/prompts/category/SciFi\" component={Home}/>\n\n            <Route path=\"/stories/category/all\" component={Home}/>\n            <Route path=\"/stories/category/Comedy\" component={Home}/>\n            <Route path=\"/stories/category/Drama\" component={Home}/>\n            <Route path=\"/stories/category/Romance\" component={Home}/>\n            <Route path=\"/stories/category/SciFi\" component={Home}/>\n            \n            <Route path=\"/account/:id\" component={Home}/>\n            <Route path=\"/story/:id\" component={StoryModal}/>\n        </div>\n        </Layout>\n    </Router>\n)\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const initState = {\n    authError: null\n}\nconst authReducer = (state = initState, action) => {\n    switch(action.type){\n        case 'LOGIN_ERROR':\n            console.log('login error');\n\n            return {\n                ...state,\n                authError: 'Login Failed'\n            }\n            \n        case 'LOGIN_SUCCESS':\n            console.log('login success');\n\n            return {\n                ...state,\n                authError: null\n            }\n        \n        case 'SIGNOUT_SUCCESS':\n            console.log('signout success');\n            return state\n\n        case 'SIGNUP_SUCCESS':\n            console.log('signup success');\n            return {\n                ...state,\n                authError: null\n            }\n        case 'SIGNUP_ERROR':\n                console.log('signup error');\n                return {\n                    ...state,\n                    authError: action.err.message\n                }\n        case 'NAME_TAKEN':\n                console.log('username taken');\n                return {\n                    ...state,\n                    authError: 'Name is already taken'\n                }\n        default:\n            return state;\n    }\n}\n\nexport default authReducer","const initState = {\n    posts: [\n        {id: 1, title: 'Greek God Revenge', content: 'Youre an ancient Greek man coming home from 4 months of war to find your wife 3 months pregnant. Now youve embarked on a solemn quest: to punch Zeus in the face.'},\n        {id: 2, title: 'Where Is My Super Suit', content: 'The Suit is powerfull. A mech for some, body armor for others, always unique to each person who wore it. Those who wear it, hear the words \"not original user, booting basic mode\" As a joke, your sergeant gives you The Suit and the first thing you hear is: \"User detected: Welcome back, Commander\"'},\n        {id: 3, title: 'School Reunion', content: 'The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping.'},\n        {id: 4, title: 'Seth The Killer', content: 'The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping.'},\n        {id: 5, title: 'School Reunion', content: 'The nightmare has come true; youve woken up back in sixth grade with your memories and knowledge of everything that happened since then intact. You start staring at your classmates around you, aware of how they end up. Your teacher asks you whats wrong as you start weeping.'}\n    ]\n}\nconst postReducer = (state = initState, action) => {\n    switch(action.type){\n        case 'CREATE_POST':\n            console.log('created post', action.post)\n            return state\n        case 'CREATE_POST_ERR':\n            console.log('create project error', action.err)\n            return state\n        default: \n            return state\n    }\n}\n\nexport default postReducer","import authReducer from './authReducer'\nimport postReducer from './postReducer'\nimport { combineReducers } from 'redux'\nimport { firestoreReducer } from 'redux-firestore'\nimport { firebaseReducer } from 'react-redux-firebase'\n\nconst rootReducer = combineReducers({\n    auth: authReducer,\n    post: postReducer,\n    firestore: firestoreReducer,\n    firebase: firebaseReducer\n});\n\nexport default rootReducer","import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\n// Your web app's Firebase configuration\nvar firebaseConfig = {\n    apiKey: \"AIzaSyC-1qE_pSDh3kKMmLI3fA4iErj4qGuZrgw\",\n    authDomain: \"writingrelay.firebaseapp.com\",\n    databaseURL: \"https://writingrelay.firebaseio.com\",\n    projectId: \"writingrelay\",\n    storageBucket: \"\",\n    messagingSenderId: \"549963888326\",\n    appId: \"1:549963888326:web:65281ab754acef09\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.firestore().settings({ timestampsInSnapshots: true })\n\nexport default firebase","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport rootReducer from './Store/Reducers/rootReducer'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\nimport { reduxFirestore, getFirestore } from 'redux-firestore'\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase'\nimport fbConfig from './Config/fbConfig'\n\nconst store = createStore(rootReducer, \n    compose(\n        applyMiddleware(thunk.withExtraArgument({ getFirestore, getFirebase })),\n        reduxFirestore(fbConfig),\n        reactReduxFirebase(fbConfig, {attachAuthIsReady: true})\n    )\n);\nstore.firebaseAuthIsReady.then(() => {\n    ReactDOM.render(\n        <Provider store={store}>\n            <App />\n        </Provider>, \n        document.getElementById('root'));\n        serviceWorker.unregister();\n})\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}